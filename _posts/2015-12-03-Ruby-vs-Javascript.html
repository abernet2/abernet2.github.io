---
layout: default
title:  Ruby vs Javascript
date:   2015-12-03
categories: Technical Blog
imageurl: ../imgs/rubyvsjs.png
imagealt: ruby vs javascript
excerpt: After learning about enumerables in Ruby, figuring out how looping works in Javascript takes some getting used to. Gone are the days of the .each loop. Read more here!
---

<main>
	<div class="container">
		<h4>{{ page.date | date: '%B %d, %Y' }}</h4>
		<div id="blog-text">
			<article class="post">
			   <p id="intro-blurb">One of the biggest advantages of Ruby, and for many its defining feature, is its ability to easily iterate over objects. It accomplishes this feat by coming pre-packaged with all sorts of easy to use and intuitive methods for manipulate arrays, hashes and other types of data.</p>
            <h2>Iterating over Hashes/Objects</h2>
            <p>While Javascript maintains the ability to perform most of these functions, it can't do so with the same level of readability. For example, the good ol' #each loop in ruby looks roughly like this:</p>
            <pre class="prettyprint lang-rb">
               hash = {a; 1,b: 2,c: 3,d: 4}
               sum = 0
               hash.each do |key, value|
                  sum += value
               end
            </pre>
            <p>And as long as we're working with hashes (objects in Javascript) the each loop should look pretty similar:</p>
            <pre class="prettyprint lang-js">
               var hash = {a; 1,b: 2,c: 3,d: 4};
               var sum = 0;
               for each (value in hash) {
                  sum += value;
               }
            </pre>  
            <h2>Iterating over Arrays</h2>
            <p>But the real problems start showing up when we need to iterate over an array. Javascript does not support easy iteration over arrays with the for each loop. To get such functionality you can use this somewhat messy workaround:</p>
            <pre class="prettyprint lang-js">
               var arr = [1,2,3,4];
               var sum = 0;
               arr.forEach( function(num) {
                  sum += num;
               });
            </pre>
            <p>Notice how this creates a strange nested }); at the end of the loop. The syntax is also inconsistent with the for each loop used for objects. A main reason for using each statements is that it makes the code so much more readable. Notice that to read this new syntax you have to put in extra work. If you didn't know any better, it would look like you were iterating over an array of functions, and where did this num variable come from!? </p>
            <p>The better way to iterate over an array is like so:</p>
            <pre class="prettyprint lang-js">
            var arr = [1,2,3,4];
            var sum = 0;
            for (var i = 0; i < arr.length; i++) {
               sum += arr[i];
            }
            </pre>
            <p>While this might not look much better, if you step through the code it makes much more sense. First you declare i (traditionally used as an index in for loops). While i < length, you do the following function and then increment by 1. It may not be pretty, but it gets the job done!</p>
            <h2>Other Javascript Iteration Methods</h2>
            <p>None of this is to say that Javascript is completely without builtin methods, they are just much more limited and much more verbose. Here's a quick list of other Enumerable-<i>ish</i> methods in Javascript:</p>
            <ul>
               <li><b>#reduce</b>: &nbsp; acts like an accumulator, great for summing/flattening arrays</li>
               <li><b>#includes</b>: &nbsp; Checks if an array/object <i>includes</i> the argument</li>
               <li><b>#map</b>: &nbsp; Like map in Ruby, performs a function on every object and returns a new array.</li>
               <li><b>#reverse</b>: &nbsp; Reverses the object/array you call this on</li>
               <li><b>#sort</b>: &nbsp; Sorts stuff!</li>
               <li><b>#every</b>: &nbsp; Checks if every element passes a certain condition</li>
            </ul>
			</article>
		</div>
	</div>
</main>